(()=>{var e={};e.id=2834,e.ids=[2834],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},65651:(e,d,a)=>{"use strict";a.r(d),a.d(d,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>b,pages:()=>o,routeModule:()=>h,tree:()=>l}),a(31438),a(68925),a(35866);var t=a(23191),r=a(88716),s=a(37922),i=a.n(s),c=a(95231),n={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);a.d(d,n);let l=["",{children:["dashboard",{children:["history",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,31438)),"D:\\platforms\\apkpure\\app\\dashboard\\history\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,68925)),"D:\\platforms\\apkpure\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\platforms\\apkpure\\app\\dashboard\\history\\page.js"],b="/dashboard/history/page",f={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/history/page",pathname:"/dashboard/history",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},64959:(e,d,a)=>{let t={"06cf7713133979eed99442408b908e303d9498ad":()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.fetchUser),"221ecf69ca75706be535b0ecce7c31a7e4a0068c":()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.$$ACTION_4),"2e9010158d2064f1d24f7346ddf61809b3f6f766":()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.fetchMembership),"34b54ecac4697e68d1c73d84c6526533e5f1ba50":()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.$$ACTION_3),"419eed01569ad6606f6b85cc36b5ae1128598077":()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.fetchAuthenticatedUser),"58f523a8ea2e58031efbaeeb1c49a59baa094941":()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.$$ACTION_5),"5cf505132c101f0532f4dddb8a0c850ca058dd8f":()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.$$ACTION_2),"6f184fc1e7bb0e99a8bc7e4271d49c0d5c316a97":()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.fetchWithdrawal),"864cbfaa7b22ebc9571c387ef110823912b0d131":()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.$$ACTION_0),a0167862ad6025eea361bab936d02959f4742e76:()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.fetchCommission),d55ddaf6d457fdf43572779d7518859e51c9acde:()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.$$ACTION_1),d6e09bd4d957b87f4da36429bd63e75883d9755b:()=>Promise.resolve().then(a.bind(a,83245)).then(e=>e.fetchPendingWithdrawal),"15d8e918162f37e71cf2782842486fdb6d30b470":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.withdrawal),"30809730f32ab27d55bf5b2c3ce627d65e31dec6":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.$$ACTION_2),"393d01755c1654e1f13a209816e112c5b2c9b749":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.authenticate),"3b028aeea2746a92cf3d8bd3bdffd4acc48f8abc":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.updateLuckyDraw),"3b7617b373c058870b07400baad9b2a3a4030742":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.logout),"3d6b21ef5014353f4072035d30feb34a8e909686":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.$$ACTION_5),"55125102e87c4e43046ad45a8a49c637a553e264":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.$$ACTION_4),"839b04498f77b7ce74b2c3bd1c41c6ece906b243":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.resetPassword),"86c1f9f05a8d5a212162830de60823f5199d5c49":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.$$ACTION_6),"9348dd5ed31a2aba753b405ad91f08a2286a5bac":()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.createUser),a380bfd140f9fdec05d6344531debf3682f86ab9:()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.$$ACTION_0),a65dc22f3fd4cde3ae869dacbfc7dfacaaeee736:()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.$$ACTION_7),c61ae12e9e36859bb4ead03c113ba8635a856651:()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.resetPin),daa119471c03c158f993d16751151734dfeec1b7:()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.createWallet),f0bc4f4198cd5dec94ccd56c55bda5959539154c:()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.$$ACTION_3),f0e2b7fd18f17f0e2496e5ad3dfdca5067771bc5:()=>Promise.resolve().then(a.bind(a,59930)).then(e=>e.$$ACTION_1)};async function r(e,...d){return(await t[e]()).apply(null,d)}e.exports={"06cf7713133979eed99442408b908e303d9498ad":r.bind(null,"06cf7713133979eed99442408b908e303d9498ad"),"221ecf69ca75706be535b0ecce7c31a7e4a0068c":r.bind(null,"221ecf69ca75706be535b0ecce7c31a7e4a0068c"),"2e9010158d2064f1d24f7346ddf61809b3f6f766":r.bind(null,"2e9010158d2064f1d24f7346ddf61809b3f6f766"),"34b54ecac4697e68d1c73d84c6526533e5f1ba50":r.bind(null,"34b54ecac4697e68d1c73d84c6526533e5f1ba50"),"419eed01569ad6606f6b85cc36b5ae1128598077":r.bind(null,"419eed01569ad6606f6b85cc36b5ae1128598077"),"58f523a8ea2e58031efbaeeb1c49a59baa094941":r.bind(null,"58f523a8ea2e58031efbaeeb1c49a59baa094941"),"5cf505132c101f0532f4dddb8a0c850ca058dd8f":r.bind(null,"5cf505132c101f0532f4dddb8a0c850ca058dd8f"),"6f184fc1e7bb0e99a8bc7e4271d49c0d5c316a97":r.bind(null,"6f184fc1e7bb0e99a8bc7e4271d49c0d5c316a97"),"864cbfaa7b22ebc9571c387ef110823912b0d131":r.bind(null,"864cbfaa7b22ebc9571c387ef110823912b0d131"),a0167862ad6025eea361bab936d02959f4742e76:r.bind(null,"a0167862ad6025eea361bab936d02959f4742e76"),d55ddaf6d457fdf43572779d7518859e51c9acde:r.bind(null,"d55ddaf6d457fdf43572779d7518859e51c9acde"),d6e09bd4d957b87f4da36429bd63e75883d9755b:r.bind(null,"d6e09bd4d957b87f4da36429bd63e75883d9755b"),"15d8e918162f37e71cf2782842486fdb6d30b470":r.bind(null,"15d8e918162f37e71cf2782842486fdb6d30b470"),"30809730f32ab27d55bf5b2c3ce627d65e31dec6":r.bind(null,"30809730f32ab27d55bf5b2c3ce627d65e31dec6"),"393d01755c1654e1f13a209816e112c5b2c9b749":r.bind(null,"393d01755c1654e1f13a209816e112c5b2c9b749"),"3b028aeea2746a92cf3d8bd3bdffd4acc48f8abc":r.bind(null,"3b028aeea2746a92cf3d8bd3bdffd4acc48f8abc"),"3b7617b373c058870b07400baad9b2a3a4030742":r.bind(null,"3b7617b373c058870b07400baad9b2a3a4030742"),"3d6b21ef5014353f4072035d30feb34a8e909686":r.bind(null,"3d6b21ef5014353f4072035d30feb34a8e909686"),"55125102e87c4e43046ad45a8a49c637a553e264":r.bind(null,"55125102e87c4e43046ad45a8a49c637a553e264"),"839b04498f77b7ce74b2c3bd1c41c6ece906b243":r.bind(null,"839b04498f77b7ce74b2c3bd1c41c6ece906b243"),"86c1f9f05a8d5a212162830de60823f5199d5c49":r.bind(null,"86c1f9f05a8d5a212162830de60823f5199d5c49"),"9348dd5ed31a2aba753b405ad91f08a2286a5bac":r.bind(null,"9348dd5ed31a2aba753b405ad91f08a2286a5bac"),a380bfd140f9fdec05d6344531debf3682f86ab9:r.bind(null,"a380bfd140f9fdec05d6344531debf3682f86ab9"),a65dc22f3fd4cde3ae869dacbfc7dfacaaeee736:r.bind(null,"a65dc22f3fd4cde3ae869dacbfc7dfacaaeee736"),c61ae12e9e36859bb4ead03c113ba8635a856651:r.bind(null,"c61ae12e9e36859bb4ead03c113ba8635a856651"),daa119471c03c158f993d16751151734dfeec1b7:r.bind(null,"daa119471c03c158f993d16751151734dfeec1b7"),f0bc4f4198cd5dec94ccd56c55bda5959539154c:r.bind(null,"f0bc4f4198cd5dec94ccd56c55bda5959539154c"),f0e2b7fd18f17f0e2496e5ad3dfdca5067771bc5:r.bind(null,"f0e2b7fd18f17f0e2496e5ad3dfdca5067771bc5")}},87501:(e,d,a)=>{Promise.resolve().then(a.bind(a,50891)),Promise.resolve().then(a.bind(a,2842)),Promise.resolve().then(a.bind(a,933)),Promise.resolve().then(a.bind(a,46618))},34154:(e,d,a)=>{"use strict";a.d(d,{default:()=>o});var t=a(10326),r=a(46226),s=a(90434),i=a(35047);let c={src:"/_next/static/media/icon.70cc4f2c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEUsLCxMaXEsLCwsLCwsLCwsLCwtLS0sLCxWVlYtLS0qejcNAAAACnRSTlMsAG5SF4YPOgPBwU4XxQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADRJREFUeJwVybkNADAMw0BKfrP/woFZHUCUtpGgCCqEp0mcVKpGEQfQe7e2uWqiW0LpkHY/GTEAyE05izUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},n={src:"/_next/static/media/icon1.ec3342c1.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEUmJiYtLS0sLCwuLi4tLS0sLCwpKSktLS0tLS0sLCwuLi4uLi4uLi4wMDDbjnWyAAAADXRSTlMD7Ydn41EisLnFPE3HAmRS3QAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADZJREFUeJwFwYkBwDAIA7GzgZCn7L9uJWB9ZwE3R5q8xLTdE4SstoKSfaxiadtbQIxyAqAyH/wqygEU+XgF2gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},l={src:"/_next/static/media/arrow.1d443e02.svg",height:24,width:24,blurWidth:0,blurHeight:0},o=({link:e,title:d,activeWithdrawalHistory:a,activeRechargeHistory:o,activeProfile:b,authUser:f,bg:h,isLink:u})=>{let p=(0,i.useRouter)(),m=()=>p.back();return t.jsx("div",{className:"breadcrumb-wrapper",style:{background:""!==h?h:""},children:(0,t.jsxs)("div",{className:"breadcrumb-wrapper-parent",children:[t.jsx("div",{className:"breadcrumb-wrapper-childs",children:""===e?t.jsx(t.Fragment,{children:t.jsx(r.default,{src:l,alt:"arrow",height:100,width:100,unoptimized:!0,onClick:()=>m()})}):t.jsx(s.default,{href:e,children:t.jsx(r.default,{src:l,alt:"arrow",height:100,width:100,unoptimized:!0})})}),t.jsx("div",{className:"breadcrumb-wrapper-childs",children:t.jsx("h3",{children:d})}),t.jsx("div",{className:"breadcrumb-wrapper-childs",children:a&&a?t.jsx(s.default,{href:"/dashboard/withdrawalHistory",children:t.jsx(r.default,{src:c,alt:"icon",height:100,width:100,unoptimized:!0})}):o&&o?t.jsx(s.default,{href:"/dashboard/rechargeHistory",children:t.jsx(r.default,{src:c,alt:"icon",height:100,width:100,unoptimized:!0})}):b&&b?t.jsx(s.default,{href:"/dashboard/recovery/changePin",children:t.jsx(r.default,{src:n,alt:"icon",height:100,width:100,unoptimized:!0})}):t.jsx(t.Fragment,{})})]})})}},2842:(e,d,a)=>{"use strict";a.r(d),a.d(d,{default:()=>b});var t=a(10326),r=a(57967),s=a.n(r);a(74162);var i=a(46226),c=a(17577),n=a(34154),l=a(86741),o=a(90434);let b=({data:e,membership:d,authUser:a})=>{let[r,b]=(0,c.useState)(e||[]),[f,h]=(0,c.useState)("all"),u=d=>{"all"===d?(b(e),h("all")):"pending"===d?(b(e?.filter(e=>"pending"===e.status)),h("pending")):"completed"===d?(b(e?.filter(e=>"completed"===e.status)),h("completed")):"freezed"===d&&(b(e?.filter(e=>"freezed"===e.status)),h("freezed"))};return(0,c.useEffect)(()=>{b(e)},[]),(0,t.jsxs)(t.Fragment,{children:[t.jsx(n.default,{authUser:a,title:"History",link:"/dashboard"}),(0,t.jsxs)("div",{className:"history-section-wrapper",children:[t.jsx("div",{className:"history-filter",children:(0,t.jsxs)("ul",{children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>u("all"),className:"all"===f?"history-active":"",children:"All"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>u("pending"),className:"pending"===f?"history-active":"",children:"Pending"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>u("completed"),className:"completed"===f?"history-active":"",children:"Completed"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>u("freezed"),className:"freezed"===f?"history-active":"",children:"Freezed"})})]})}),r?.length===0?t.jsx("div",{className:"data-not-found",children:t.jsx(i.default,{src:l.default,height:100,width:100,alt:"logo",unoptimized:!0})}):r?.map((e,a)=>t.jsxs("div",{className:"history-parent",children:[t.jsxs("div",{className:"history-child",children:[t.jsxs("div",{className:"product-img-container",children:[t.jsx("div",{className:"pruduct-img",children:e&&e.url&&t.jsx(i.default,{src:e.url,height:100,width:100,alt:"product",unoptimized:!0})}),t.jsx("button",{children:e?.status??""})]}),t.jsx("div",{className:"product-info",children:t.jsx("p",{children:e?.productName})})]}),t.jsxs("div",{className:"history-child",children:[t.jsxs("div",{className:"product-info",children:[t.jsx("p",{children:"Price"}),t.jsx("p",{children:"Commissions"}),t.jsx("p",{children:"Data Value"})]}),t.jsxs("div",{className:"product-info",children:[t.jsxs("p",{children:["USDC ",e?.productPrice?.toFixed(2)]}),e?.isJourneyProduct?t.jsxs("p",{children:["USDC ",(e?.productPrice*d?.ticket_commission)?.toFixed(2)]}):t.jsxs("p",{children:["USDC ",(e?.productPrice*d?.commission_rate)?.toFixed(2)]}),e?.isJourneyProduct?t.jsxs("p",{children:["USDC ",(e?.productPrice+e?.productPrice*d?.ticket_commission).toFixed(2)]}):t.jsxs("p",{children:["USDC ",(e?.productPrice+e?.productPrice*d?.commission_rate).toFixed(2)]})]})]}),t.jsx("div",{className:"history-child",children:t.jsx("div",{className:"product-info",children:t.jsx("p",{children:s().tz(e?.createdAt,"America/New_York").format("D MMM YYYY, hh:mm:ss")})})}),t.jsx("div",{className:"history-child",children:e?.status==="pending"?t.jsx(o.default,{href:"/dashboard/assignment/submitJourney",children:t.jsx("button",{className:"primary-btn",children:"Submit"})}):t.jsx(t.Fragment,{})})]},a))]})]})}},84600:(e,d,a)=>{"use strict";a.d(d,{e:()=>f,I:()=>h});var t=a(47266),r=a(57708),s=a(11185),i=a.n(s);let c=new(i()).Schema({JourneyHistory:[]},{timestamps:!0});i().models={};let n=i().models.JourneyHistory||i().model("JourneyHistory",c);var l=a(11649),o=a(13738),b=a(92755);let f=async()=>{try{await (0,o.P)();let{user:e}=await (0,t.I8)();if(!e)return{message:"Something went wrong!",status:404,type:"danger"};let d=await l.n.findOne({_id:e?._id});if(!d)return{message:"Unauthorized, data not found!",status:404,type:"danger"};let a=await n.findById(d?.journeyHistory),s=a?.JourneyHistory?.reverse();return(0,r.revalidatePath)("/dashboard/history"),s}catch(e){console.log(e)}},h=async()=>{try{await (0,o.P)();let{user:e}=await (0,t.I8)();if(!e)return{message:"Something went wrong!",status:404,type:"danger"};let d=await l.n.findOne({_id:e?._id});if(!d)return{message:"Unauthorized, data not found!",status:404,type:"danger"};return await b.T.find({username:d?.username,recharge_type:"credit"})}catch(e){console.log(e)}}},31438:(e,d,a)=>{"use strict";a.r(d),a.d(d,{default:()=>b});var t=a(19510),r=a(84600),s=a(83245),i=a(98227),c=a(47266),n=a(55782),l=a(34739);let o=(0,n.default)(()=>a.e(4080).then(a.bind(a,84080)),{loadableGenerated:{modules:["app\\dashboard\\history\\page.js -> @/components/history/History"]},loading:()=>t.jsx(l.Z,{})}),b=async()=>{let{user:e}=await (0,c.I8)(),d=await (0,s.fetchAuthenticatedUser)()||{},a=await (0,r.e)()||[],n=await (0,s.fetchMembership)();return(0,t.jsxs)(t.Fragment,{children:[t.jsx("section",{className:"history-section page_animation",children:t.jsx(o,{membership:JSON.parse(JSON.stringify(n)),data:JSON.parse(JSON.stringify(a)),authUser:JSON.parse(JSON.stringify(d))})}),t.jsx(i.ZP,{user:JSON.parse(JSON.stringify(e)),authenticatedUser:JSON.parse(JSON.stringify(d))})]})}},86741:(e,d,a)=>{"use strict";a.r(d),a.d(d,{default:()=>t});let t={src:"/_next/static/media/not_found.e0488e5c.png",height:1500,width:1500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEVMaXGpvb2ywsfS3eCInrDy9vnN2NyQqrOxwsnj6uvE0tfi6Ork6u3s8vb2/P/d6OyWEomvAAAADXRSTlMABSK8FndFUZjF2+VWF0crWwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADNJREFUeJw1i1sOACAIwzZAfOv9b2sCcV9N0wEAEaOIS5DPq+HL2coPYVYfLWtItTyChgcY4QC2Qx0a8wAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}};var d=require("../../../webpack-runtime.js");d.C(e);var a=e=>d(d.s=e),t=d.X(0,[9302,285,1545,6646,4162,9473],()=>a(65651));module.exports=t})();